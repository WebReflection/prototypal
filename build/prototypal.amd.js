/*! (C) Andrea Giammarchi Mit Style License */
define(function(e){"use strict";function p(e){this._=e}function d(e){this._=e}function v(e){this._=e}function m(e){return{value:e,configurable:!0,writable:!0}}function g(e,n){var r=e[n]._;return e[n]._=function(){return t.call(r,this)},y(e,n,r)}function y(e,t,n){var i=e[t]._;return{configurable:!0,get:function(){var a=this,f=a,h;if(u.call(a,"constructor"))return n||i;if(l){while(!h&&(f=o(f)))h=s(f,t);delete f[t]}return(c||!u.call(a,t))&&r(a,t,{configurable:!0,value:i.call(a)}),l&&r(f,t,h),a[t]}}}function b(e,t){var n=e[t];return n instanceof p?e[t]=g(e,t):n instanceof d?e[t]=n._:n instanceof v?e[t]=y(e,t):e[t]=m(n),e}function w(e,t){var r,s=t!=null,r=a(r=s?t:e).reduce(b,r),o=(u.call(r,"constructor")?r.constructor:r.constructor=m(function(){})).value;return(s?o.prototype=n(typeof e=="function"?e.prototype:e,r):i(o.prototype,r)).constructor}var t=e.bind||function(e,t){return t=this,function(){return t.apply(e,arguments)}},n=e.create,r=e.defineProperty,i=e.defineProperties,s=e.getOwnPropertyDescriptor,o=e.getPrototypeOf,u=e.prototype.hasOwnProperty,a=e.keys,f=0,l,c,h;h=n(r({},"_",{get:function(){return++f,r(this,"_",{value:!1})._}}));try{l=h._||h._}catch(E){l=!0}return c=1===f,i(w,{Class:{value:w},bound:{value:function(e){return new p(e)}},descriptor:{value:function(e){return new d(e)}},lazy:{value:function(e){return new v(e)}}})}(Object));