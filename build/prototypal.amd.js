/*! (C) Andrea Giammarchi Mit Style License */
define(function(e,t,n){n.exports=function(e){"use strict";function E(e){this._=e}function S(e){this._=e}function x(e){this._=e}function T(e,t){var n=e[t]._;return e[t]._=function(){return i.call(n,this)},D(e,t,n)}function N(e){C[n]=e;var t=new C;return C[n]=g,t}function C(){}function k(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);if(h)for(c=0;c<l.length;c++)p.call(t,n=l[c])&&(e[n]=t[n]);return e}function L(e){return{value:e,enumerable:!1,configurable:!0,writable:!0}}function A(e,t){var n=e[t];return n instanceof E?e[t]=T(e,t):n instanceof S?e[t]=n._:n instanceof x?e[t]=D(e,t):e[t]=L(n),e}function O(e,n){return p.call(e,t)?e[t]:e[t]=n(function(){})}function M(e,t){return typeof t=="function"?t(e):t}function _(e){return typeof e=="function"?e[n]:e}function D(e,n,r){var i=e[n]._;return{configurable:!0,get:function(){var o=this,f=o,l;if(hasOwnProperty.call(o,t))return r||i;if(y){while(!l&&(f=a(f)))l=u(f,n);delete f[n]}return(b||!hasOwnProperty.call(o,n))&&s(o,n,{configurable:!0,value:i.call(o)}),y&&s(f,n,l),o[n]}}}var t="constructor",n="prototype",r="__proto__",i=e.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}},s=e.defineProperty,o=e.defineProperties,u=e.getOwnPropertyDescriptor,a=e.getPrototypeOf,f=e.create,l=[t,"hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],c=0,h=!{valueOf:0}[l[3]](l[6]),p={}[l[1]],d=e.keys||function(e){var t=[],n;for(n in e)p.call(e,n)&&t.push(n);if(h)for(c=0;c<l.length;c++)p.call(e,n=l[c])&&t.push(n);return t},v=f?function(e){return e[1]=1,p.call(e,1)?f:(e={configurable:!0},function(t){var n=f(t);return p.call(n,0)?n:delete s(n,0,e)[0],n})}(f(e[n])):function(){var e=function(){var t,r=document,i=r.createElement("iframe"),s=r.body||r.documentElement;i.style.display="none",s.insertBefore(i,s.firstChild),i.src="javascript:",t=i.contentWindow,t.Object||(r=t.document,r.open(),r.write("<script></script>"),r.close()),e=function(){},e[n]=t.Object[n],s.removeChild(i),r=s=i=null;for(c=0;c<l.length;delete e[n][l[c++]]);return new e};return function(t){return t?N(t):new e}}(),m=e.setPrototypeOf||({__proto__:null}instanceof e?function(e,t){return k(v(t),e)}:function(e,t){return e.__proto__=t,e}),g=C[n],y,b,w;if(u){w=f(s({},"_",{get:function(){return++c,s(this,"_",{value:!1})._}}));try{y=w._||w._}catch(P){y=!0}b=1===c}return{Class:u?o(function(r,i){var s=i!=null,u=s&&_(r),a=s?M(u,i):r||{},l=O(a=d(a).reduce(A,a),L).value;return(s?l[n]=f(u,a):o(l[n],a))[t]},{bound:{value:function(t){return new E(t)}},descriptor:{value:function(t){return new S(t)}},lazy:{value:function(t){return new x(t)}}}):function(i,s){var o=s!=null,u=o&&_(i),a=o?M(u,s):i||{},f=O(a,e);return(f[n]=o?k(v(u),a):a)[t]},copy:k,create:function(e,t){return t==null?v(e):m(t,e)},keys:d}}(Object)});